import{c as x,u as v,a as w,r as t,j as e,C as N,b,d as C,e as E,f as k,L as h,I as p,B as i,g as S}from"./index-DimZnVXS.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=x("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=x("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function I(){const{toast:c}=v(),[D,d]=w(),[r,j]=t.useState(""),[n,y]=t.useState(""),[l,u]=t.useState(!1),[o,f]=t.useState(!1),g=async s=>{s.preventDefault(),u(!0);try{console.log("Tentando login com:",{username:r,password:n});const a=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:n}),credentials:"include"}),m=await a.json();if(console.log("Resposta do servidor:",m),!a.ok)throw new Error(m.message||"Credenciais inválidas");c({title:"Login bem-sucedido",description:"Redirecionando para o painel administrativo..."}),setTimeout(()=>{d("/admin/dashboard")},1e3)}catch(a){c({title:"Erro de autenticação",description:a instanceof Error?a.message:"Ocorreu um erro durante o login",variant:"destructive"})}finally{u(!1)}};return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-50",children:e.jsxs(N,{className:"w-full max-w-md",children:[e.jsxs(b,{children:[e.jsx(C,{className:"text-2xl text-center",children:"Login Administrativo"}),e.jsx(E,{className:"text-center",children:"Acesse o painel administrativo para gerenciar o conteúdo do site"})]}),e.jsx(k,{children:e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"username",children:"Nome de usuário"}),e.jsx(p,{id:"username",placeholder:"Digite seu nome de usuário",value:r,onChange:s=>j(s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"password",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(p,{id:"password",type:o?"text":"password",placeholder:"Digite sua senha",value:n,onChange:s=>y(s.target.value),required:!0,className:"pr-10"}),e.jsx(i,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>f(!o),children:o?e.jsx(L,{className:"h-4 w-4"}):e.jsx(T,{className:"h-4 w-4"})})]})]}),e.jsx(i,{type:"submit",className:"w-full",disabled:l,children:l?"Entrando...":"Entrar"})]})}),e.jsx(S,{className:"flex justify-center",children:e.jsx(i,{variant:"link",onClick:()=>d("/"),children:"Voltar para o site"})})]})})}export{I as default};
